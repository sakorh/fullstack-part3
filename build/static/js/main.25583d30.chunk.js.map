{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/People.js","services/people.js","App.js","index.js"],"names":["Filter","newFilter","filterNames","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","deleteName","name","number","onClick","People","namesToShow","map","id","baseUrl","services","getAll","axios","get","then","response","data","create","newObject","post","delete","update","put","Notification","success","error","className","App","useState","people","setPeople","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPeople","filter","toLowerCase","includes","event","target","preventDefault","find","p","window","alert","confirm","personObject","returnedPerson","setTimeout","catch","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.25583d30.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ newFilter, filterNames }) => {\n\n    return (\n        <div>\n          filter shown with\n          <input \n          value={newFilter}\n          onChange={filterNames}/>\n        </div>\n    )\n\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\n\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n        <div>\n          name: \n          <input \n          value={newName}\n          onChange={handleNameChange}/>\n        </div>\n        <div>\n          number:\n          <input \n          value={newNumber}\n          onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deleteName }) => {\n    return (\n      <><p>\n        {person.name} {person.number}\n          <button onClick={deleteName}>delete</button>\n        </p>\n      </>\n    )\n  }\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\n\nconst People = ({ namesToShow, deleteName }) => {\n\n    return (\n        <div>\n            {namesToShow.map(person =>\n        <Person key={person.id} person={person} deleteName={() => deleteName(person.id)}/>)}\n        </div>\n\n    )\n}\n\nexport default People","import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteName = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst services = {\n    getAll, create, deleteName, update\n}\n\n\n\nexport default services","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport People from './components/People'\nimport personService from './services/people'\n\nconst Notification = ({ success, error }) => {\n  if (success === null && error === null) {\n    return null\n  } else if (error === null) {\n    return (\n      <div className=\"success\">\n        {success}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"error\">\n        {error}\n      </div>\n    )\n  }\n\n}\n\nconst App = () => {\n\n  const [ people, setPeople ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPeople => {\n        setPeople(initialPeople)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (people.map(person => person.name.toLowerCase()).includes(newName.toLowerCase())) {\n      const person = people.find(p => p.name.toLowerCase() === newName.toLowerCase())\n      if (person.number === newNumber) {\n        window.alert(`${newName} is already added to phonebook`)\n      } else  if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)){\n        const personObject = {\n          name: person.name,\n          number: newNumber\n        }\n\n        personService\n          .update(person.id, personObject)\n          .then(returnedPerson => {\n            setPeople(people.map(p => p.id !== returnedPerson.id ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setSuccessMessage(\n              `Updated ${returnedPerson.name}'s number'`\n              )\n              setTimeout(() => {\n                setSuccessMessage(null)\n              }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${person.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPeople(people.filter(p => p.id !== person.id))\n          })\n      }\n      \n    }else {\n\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPeople(people.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `Added ${returnedPerson.name}`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n        })\n    }\n  }\n\n  const deleteName = (id) => {\n    const person = people.find(p => p.id === id)\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n      .deleteName(id)\n      .then(() => {\n        setPeople(people.filter(p => p.id !== id))\n        setSuccessMessage(\n          `Deleted ${person.name}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n      })\n    }\n  }\n\n\n  const filterNames = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const namesToShow = newFilter\n    ? people.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n    : people\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification success={successMessage} error={errorMessage}/>\n      <Filter newFilter={newFilter} filterNames={filterNames} />\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <People namesToShow={namesToShow} deleteName={deleteName}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}